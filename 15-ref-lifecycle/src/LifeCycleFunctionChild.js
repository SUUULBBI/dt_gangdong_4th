import React, { use, useEffect, useState } from 'react';

// ìì‹ ì»´í¬ë„ŒíŠ¸
export default function LifeCycleFunctionChild({ number }) {
    // {number}ë¶€ëª¨êº¼ ë°”ë¡œ ë„£ì–´ì£¼ë©´ ì•Œì•„ì„œ êµ¬ì¡°ë¶„í•´í• ë‹¹ë¨

    /////////////////////

    // #1. Mount ì‹œì ì— ì‹¤í–‰ (return ìƒëµ ë²„ì „)
    //   ã„´ useEffectì˜ ê²½ìš°ë„ Hook í•¨ìˆ˜ì—¬ì„œ () í•„ìš”! -> useEffect()
    useEffect(() => {
        console.log(console.log('ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸!! ğŸ”µ '));
    }, []);

    // #2. Mount ì‹œì ì— ì‹¤í–‰ (return)
    useEffect(() => {
        console.log(console.log('ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸!! ğŸ”µ')); // = 'íš¨ê³¼í•¨ìˆ˜' : ë§ˆìš´íŠ¸ì™€ ì—…ë°ì´íŠ¸ ì‹œ ì‹¤í–‰í•  ì½”ë“œ ì‘ì„±
        return () => {
            console.log('ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆì¸íŠ¸! ğŸ”´'); // = 'ì •ë¦¬ í•¨ìˆ˜' : ì¸ë§ˆìš´íŠ¸ ë˜ëŠ” ë‹¤ìŒ useEffect ì‹¤í–‰ ì „ í˜¸ì¶œ
        };
    }, []); // ì˜ì¡´ì„± ë°°ì—´ : ë°°ì—´ì— ì§€ì •ëœ ê°’ì´ ë³€ê²½ë  ë•Œ íš¨ê³¼ í•¨ìˆ˜ê°€ ì‹¤í–‰ë¨

    /////////////////////

    // #3. Mount or Udate ì‹œì ì— ì‹¤í–‰ (ì˜ì¡´ì„± ë°°ì—´ ìƒëµ)
    useEffect(() => {
        console.log('ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸!! ğŸ”µ or ì—…ë°ì´íŠ¸!! ğŸŸ¢');
    });
    // ì˜ì¡´ì • ë°°ì—´ì´ [] ë¹ˆ ë°°ì—´ì´ë¯€ë¡œ ìœ„ì˜ #1ê³¼ #2ëŠ” ëœë”ë§ë  ë•Œ 'í•œë²ˆë§Œ ' ì‹¤í–‰ë¨
    //  ã„´ í•˜ì§€ë§Œ ì˜ì¡´ì„± ë°°ì—´ì„ ìƒëµí•˜ëŠ” ì˜ë¯¸ëŠ” 'ë§¤ ëœë”ë§ ë§ˆë‹¤ ì‹¤í–‰'í•˜ê² ë‹¤ëŠ” ì˜ë¯¸ì„. (=ìƒíƒœë³€ê²½ë§ˆë‹¤ ë§¤ë²ˆ ì‹¤í–‰í•˜ê² ë‹¤)

    /////////////////////

    // #4. input ìƒíƒœê°€ ì—…ë°ì´íŠ¸ ë  ë•Œ ì‹¤í–‰
    const [input, setInput] = useState('');
    useEffect(() => {
        console.log(
            'ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸!! ğŸ”µ or input ìƒíƒœê°€ ë³€ê²½ë¨ì— ë”°ë¼ ì»´í¬ë„ŒíŠ¸ ì—…ë°ì´íŠ¸ ğŸŸ '
        );

        // #4-1) ë‹¤ìŒ useEffect ì‹¤í–‰ ì „ í˜¸ì¶œ
        return () => {
            console.log('ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸!! ğŸ”´');
        };
        // # 4-1 ê´€ë ¨ ì¶”ê°€ ì„¤ëª…
        // -useEffect ê°€ ì‹¤í–‰ë  ë•Œ ì´ì „ íš¨ê³¼ê°€ ë‚¨ì•„ ìˆìœ¼ë©´ ì¤‘ë³µëœ íš¨ê³¼ê°€ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì´ì „ íš¨ê³¼ë¥¼ ë¨¼ì € ì œê±°í•œ í›„ ìƒˆë¡œìš´ íš¨ê³¼ ì ìš©ì„ í•˜ê¸° ìœ„í•¨ì„.
        ///////-------------///////////////

        // #5. ì—¬ëŸ¬ê°œì˜ useEffect
        //    - í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ ì•ˆì— ì—¬ëŸ¬ê°œì˜ useEffectê°€ ì‹¤í–‰ë¨
        //    - ReactëŠ” ê°ê°ì˜ useEffectë¥¼ ë…ë¦½ì ìœ¼ë¡œ ê´€ë¦¬í•¨
    }, [input]);
    //input ì´ ë°°ì—´ì´ ì•„ë‹ˆë”ë¼ë„ ìœ„ì™€ê°™ì´ [input] ì˜ì¡´ì„± ë°°ì—´ì— ì¶”ê°€í•  ìˆ˜ ìˆìŒ
    // ë¬¸ìì—´ì´ë“  ìˆ«ìë“  ìƒê´€ì—†ì´, ì´ ê°’ì´ ë³€ê²½ë ë•Œë§ˆë‹¤ useEffectê°€ ì‹¤í–‰ëœë‹¤
    // ë˜í•œ ë°°ì—´í˜•íƒœì´ê¸° ë•Œë¬¸ì— ìœ„ì™€ ê°™ì´ [input]1ê°œë§Œ ì¨ë„ ë˜ê³  2ê°œì´ìƒ ëª¨ë‘ ê°€ëŠ¥! ex) [input, name, number...] > ë°°ì—´ì¤‘ 1ê°œê°€ ìˆ˜ì •ë˜ë©´ ì‹¤í–‰ëœë‹¤ëŠ” ëœ»ì„!

    return (
        <div>
            ìì‹ì»´í¬ë„ŒíŠ¸ <div>í˜„ì¬ number ê°’ì€ {number} ì…ë‹ˆë‹¤.</div>
            <input
                type="text"
                value={input}
                onChange={(e) => {
                    setInput(e.target.value);
                }}
            />
            <div>{input}</div>
        </div>
    );
}
